
<div class="section_heading">
<div class="tumor_summary_title">Tumor Summary</div>
<div class="view_options">
<input type="radio" id="list_view_option" name="view_options" value="List View" checked/>
<label for="list_view_option"><i class="fas fa-list"></i> List View</label>
<input type="radio" id="table_view_option" name="view_options" value="Table View" />
<label for="table_view_option"><i class="fas fa-table"></i> Table View</label>
</div>
</div>


<!-- List View -->
<div id="list_view">
{{#each tumors}}
<div class="redesign_tumor clearfix">
    <div class="redesign_tumor_type"><span class="arrow"><i class="fas fa-caret-right"></i><i class="fas fa-caret-down"></i></span> {{type}}</div>
    <ul class="redesign_tumor_list clearfix">
        {{#each data}}
            {{#if factsObj.facts}} <!-- Don't show empty facts for now, use categoryClass as CSS selectors -->
            <li class="redesign_tumor_list_item {{factsObj.categoryClass}}">
            	<!-- Don't display prefix for "Body Site" -->
                {{#ifEquals factsObj.category "Body Site"}} 
                    <ul class="redesign_tumor_fact_list">
                	{{#each factsObj.facts}}
	                    {{#if laterality}}
	                    <li><span class="fact" id="list_view_{{id}}">{{prettyName}}</span> ({{laterality}})</li>
	                    {{else}}
	                    <li><span class="fact" id="list_view_{{id}}">{{prettyName}}</span></li>
	                    {{/if}}
                    {{/each}}
                    </ul>
                <!-- Don't display prefix for "Diagnosis" -->
                {{else ifEquals factsObj.category "Diagnosis"}} 
                    <ul class="redesign_tumor_fact_list">
                	{{#each factsObj.facts}}
                    	<li><span class="fact" id="list_view_{{id}}">{{prettyName}}</span></li>
                    {{/each}}
                    </ul>
                <!-- Display prefix for all other categories -->
                {{else}}
                    <div class="toggleable">
                    {{factsObj.category}}:
	                <ul class="redesign_tumor_fact_list">
	                {{#each factsObj.facts}}
	                    {{#if ordinalinterpretation}}
	                        <li>
		                        <span class="fact" id="list_view_{{id}}">
		                        {{#ifEquals ordinalinterpretation "Positive"}} 
		                            <span class="positive">&plus;</span>
		                        {{/ifEquals}}
		                        
		                        {{#ifEquals ordinalinterpretation "Negative"}}
		                            <span class="negative">&ndash;</span>
		                        {{/ifEquals}}

		                        {{#ifEquals ordinalinterpretation "Unknown"}}
		                            <span class="unknown">&quest;</span>
		                        {{/ifEquals}}
		                        </span>
	                        </li>
	                    {{else}}
	                        <!-- "../"" is the notation to access outer scope variables -->
	                        {{#inArray prettyName ../../../melanomaAttributes}}
	                            <!-- Melanoma specific -->
	                            <li><span class="fact" id="list_view_{{id}}"><span class="present">&#x2714;</span> Present</span></li>
	                        {{else}}
	                            <li><span class="fact" id="list_view_{{id}}">{{prettyName}}</span></li>
	                        {{/inArray}}
	                    {{/if}}
	                  {{/each}}
	                </ul>
	                </div>
                {{/ifEquals}}
            </li>
            {{/if}}
        {{/each}}
    </ul>
</div>
{{/each}}
</div>








<!-- Table View -->
<div id="table_view">
<table class="table">

<thead>
    <tr>
        <th class="th"></th>
        {{#each tumors}}
            <th class="th">{{type}}</th>
        {{/each}}
    </tr>
</thead>

<tbody>
    {{#each collatedFactsByCategory}}
    <tr>
        <th class="th_vertical {{categoryClass}}">{{category}}</th>
        {{#each data}}
            {{#if facts}}
                <td>
                <ul class="tumor_fact_list">
                  {{#each facts}}
                    {{#if ordinalinterpretation}}
                        <li>
                        <span class="fact" id="table_view_{{id}}">{{ordinalinterpretation}}</span>
                        {{#ifEquals ordinalinterpretation "Positive"}} 
                            <span class="positive">&plus;</span>
                        {{/ifEquals}}
                        
                        {{#ifEquals ordinalinterpretation "Negative"}}
                            <span class="negative">&ndash;</span>
                        {{/ifEquals}}

                        {{#ifEquals ordinalinterpretation "Unknown"}}
                            <span class="unknown">&quest;</span>
                        {{/ifEquals}}
                        </li>
                    {{else if laterality}}
                        <li><span class="fact" id="table_view_{{id}}">{{prettyName}}</span> ({{laterality}})</li>
                    {{else}}
                        <!-- "../"" is the notation to access outer scope variables -->
                        {{#inArray prettyName ../../../melanomaAttributes}}
                        <!-- Melanoma specific -->
                        <li><span class="fact" id="table_view_{{id}}"><span class="present">&#x2714;</span> Present</span></li>
                        {{else}}
                        <li><span class="fact" id="table_view_{{id}}">{{prettyName}}</span></li>
                        {{/inArray}}
                    {{/if}}
                  {{/each}}
                </ul>
                </td>
                {{else}}
                <td class="empty_cell"></td>
            {{/if}}
            
        {{/each}}
    </tr>
    {{/each}}

</tbody>

</table>
</div>
